{
  "version": 3,
  "sources": ["../index.ts"],
  "sourcesContent": ["// Datastar Attribute Plugin: data-prop\n// Custom attribute binding to sync element properties with signals\n\nimport type { \n    AttributePlugin,\n    Effect\n} from 'datastar/library/src/engine/types'\n\n// Auto-register with datastar if available from importmap\nif (typeof window !== 'undefined') {\n    // Try to import datastar dynamically if it's available via importmap\n    (async () => {\n        try {\n            // @ts-ignore - datastar may be available via importmap at runtime\n            const datastar = await import('datastar')\n            if (datastar?.attribute && datastar?.effect) {\n                datastar.attribute(propPlugin(datastar.effect))\n            }\n        } catch (e) {\n            // Datastar not available via importmap, plugin needs manual registration\n        }\n    })()\n}\n\nexport default function propPlugin(effect: (fn: () => void) => Effect): AttributePlugin<{ value: 'must' }, true> {\n    return {\n        name: 'prop',\n        requirement: {\n            value: 'must',\n        },\n        returnsValue: true,\n        apply({ el, key, rx }) {\n            const update = key\n                ? () => { // Single property\n                    const val = rx!()\n                    ;(el as any)[key] = val\n                }\n                : () => { // Multiple properties\n                    const obj = rx!() as Record<string, any>\n                    for (const key of Object.keys(obj)) {\n                        ;(el as any)[key] = obj[key]\n                    }\n                }\n            \n            const cleanup = effect(update)\n\n            return cleanup\n        }\n    }\n}\n"],
  "mappings": "AASI,OAAO,OAAW,MAEjB,SAAY,CACT,GAAI,CAEA,IAAMA,EAAW,KAAM,QAAO,UAAU,EACpCA,GAAU,WAAaA,GAAU,QACjCA,EAAS,UAAUC,EAAWD,EAAS,MAAM,CAAC,CAEtD,MAAY,CAEZ,CACJ,GAAG,EAGQ,SAARC,EAA4BC,EAA8E,CAC7G,MAAO,CACH,KAAM,OACN,YAAa,CACT,MAAO,MACX,EACA,aAAc,GACd,MAAM,CAAE,GAAAC,EAAI,IAAAC,EAAK,GAAAC,CAAG,EAAG,CAenB,OAFgBH,EAZDE,EACT,IAAM,CACJ,IAAME,EAAMD,EAAI,EACdF,EAAWC,CAAG,EAAIE,CACxB,EACE,IAAM,CACJ,IAAMC,EAAMF,EAAI,EAChB,QAAWD,KAAO,OAAO,KAAKG,CAAG,EAC3BJ,EAAWC,CAAG,EAAIG,EAAIH,CAAG,CAEnC,CAEyB,CAGjC,CACJ,CACJ",
  "names": ["datastar", "propPlugin", "effect", "el", "key", "rx", "val", "obj"]
}
